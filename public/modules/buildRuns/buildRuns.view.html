
<div ng-controller="BuildRunsController as ctrl">
  <ul class="cci-br-ul">
    <li class="cci-br-li cci-br-header">
      <div class="cci-br-common-header">
        <div>Changelist</div>
        <div>Owner</div>
        <div>Time Started</div>
        <div>Build</div>
        <div>Unit Test</div>
        <div>Functional Test</div>
      </div>
      <div class="cci-br-status-header">
        <div>Status</div>
      </div>
    </li>
    <li ng-repeat="(key, buildRun) in runs" ng-class="ctrl.getStatusClassLi(buildRun.status.code)" ng-click="ctrl.expand(buildRun)" class="cci-br-li">
      <div class="cci-br-common">
        <div class="cci-br-summary">
          <div class="cci-br-changelist-cell">{{buildRun.changelist}}</div>
          <div>{{buildRun.owner.name}}</div>
          <div>{{buildRun.timeStarted  | date:'M / dd / yyyy'}} <i class="fa fa-clock-o"></i> {{buildRun.timeStarted  | date:'h:mm a'}}</div>
          <div class="cci-br-step-info">
            <div class="cci-br-step-wrapper">
              <div></div>
            </div>
            <div class="cci-br-step-progress-wrapper">
              <div class="cci-br-step-progress"></div>
            </div>
            <div class="cci-br-step-wrapper">
              <div></div>
            </div>
            <div class="cci-br-step-progress-wrapper">
              <div class="cci-br-step-progress"></div>
            </div>
            <div class="cci-br-step-wrapper">
              <div></div>
            </div>
          </div>
        </div>
        <div ng-show="buildRun.isExpanded" class="cci-br-detailed">
          <div class="cci-br-build-info">
            <div>
              <p>Build<span ng-class="ctrl.getStatusColorClass(buildRun.buildStep.status.code)"><i ng-class="ctrl.getStepStatusIconClass(buildRun.buildStep.status.code)" class="fa"></i></span></p>
              <p>{{buildRun.buildStep.timeStarted | date:'h:mm a'}}</p>
            </div>
            <div>
              <div ng-class="ctrl.getStatusColorClass(buildRun.buildStep.configurations[0].status.code)"><i ng-class="ctrl.getStatusIconClass(buildRun.buildStep.configurations[0].status.code)" class="fa"></i></div>
              <p><a ng-href="buildRun.buildStep.configurations[0].packageLink">{{buildRun.buildStep.configurations[0].name}}</a></p>
            </div>
            <div>
              <div ng-class="ctrl.getStatusColorClass(buildRun.buildStep.configurations[1].status.code)"><i ng-class="ctrl.getStatusIconClass(buildRun.buildStep.configurations[1].status.code)" class="fa"></i></div>
              <p><a ng-href="buildRun.buildStep.configurations[1].packageLink">{{buildRun.buildStep.configurations[1].name}}</a></p>
            </div>
          </div>
          <div><i class="fa fa-angle-right"></i></div>
          <div class="cci-br-test-info">
            <div>
              <p>Unit Test<span ng-class="ctrl.getStatusColorClass(buildRun.unitTestStep.status.code)"><i ng-class="ctrl.getStepStatusIconClass(buildRun.unitTestStep.status.code)" class="fa"></i></span></p>
              <p>
                 
                {{buildRun.unitTestStep.percentage}}%
                Status:<span ng-class="ctrl.getStatusColorClass(buildRun.unitTestStep.status.code)">{{buildRun.unitTestStep.status.name}}</span>
              </p>
            </div>
            <div>
              <div></div>
            </div>
            <div>
              <p><i class="fa fa-square cci-status-passed"></i>{{buildRun.unitTestStep.info.passedCount}}</p>
              <p><i class="fa fa-square cci-status-failed"></i>{{buildRun.unitTestStep.info.failedCount}}</p>
              <p><i class="fa fa-hourglass-end"></i>{{buildRun.unitTestStep.duration}}</p>
            </div>
          </div>
          <div><i class="fa fa-angle-right"></i></div>
          <div>
            <div>
              <p>Unit Test [v]</p>
              <p>88%</p>
            </div>
            <div>
              <div></div>
            </div>
            <div>
              <p>[] 342</p>
              <p>[] 3</p>
              <p>@ 4:30</p>
            </div>
          </div>
        </div>
      </div>
      <div class="cci-br-status">
        <div ng-hide="buildRun.isExpanded" class="cci-br-summary">
          <div ng-class="ctrl.getStatusColorClass(buildRun.status.code)" class="cci-br-status-cell"><span ng-class="ctrl.getStatusIconClass(buildRun.status.code)" class="fa"></span> {{buildRun.status.name}}</div>
        </div>
        <div ng-show="buildRun.isExpanded" class="cci-br-detailed">
          <div ng-class="ctrl.getStatusColorClass(buildRun.status.code)" class="cci-br-status-cell"><span ng-class="ctrl.getStatusIconClass(buildRun.status.code)" class="fa"></span> {{buildRun.status.name}}</div>
        </div>
      </div>
    </li>
  </ul>
</div>